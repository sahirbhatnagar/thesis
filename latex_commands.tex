%########################################################################################
%            						knitr stuff
%########################################################################################


%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
	\ifdim\Gin@nat@width>\linewidth
	\linewidth
	\else
	\Gin@nat@width
	\fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
	\def\at@end@of@kframe{}%
	\ifinner\ifhmode%
	\def\at@end@of@kframe{\end{minipage}}%
\begin{minipage}{\columnwidth}%
	\fi\fi%
	\def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
		\colorbox{shadecolor}{##1}\hskip-\fboxsep
		% There is no \\@totalrightmargin, so:
		\hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
	\MakeFramed {\advance\hsize-\width
		\@totalleftmargin\z@ \linewidth\hsize
		\@setminipage}}%
{\par\unskip\endMakeFramed%
	\at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}


%########################################################################################
%            						CUSTOM COMMANDS
%########################################################################################

\newcommand{\bh}{\hat{\beta}}
\newcommand{\xtx}{\mathbf{X}^T\mathbf{X}}
\newcommand{\xtxinv}{\left(\mathbf{X}^T\mathbf{X}\right)^{-1}}
\newcommand{\mb}[1]{\mathbf{#1}}
\newcommand{\dnorm}[3]{\frac{1}{\sqrt{2\pi #3}} \expp{- \frac{\left( #1-#2\right) ^2}{2 #3}}  }
\newcommand{\dpois}[3]{\frac{\exp\left(-#2\right) #3 }{#1 !}}
%\newcommand{\bx}{\mathbf{X}}
%\newcommand{\by}{\mathbf{Y}}
\newcommand{\bs}{\boldsymbol} 
\newcommand{\bbeta}{\bs{\beta}}

\newcommand{\tm}[1]{\textrm{{#1}}}
\newcommand{\bx}{\textbf{\emph{x}}}
\newcommand{\by}{\textbf{\emph{y}}}
\newcommand{\bX}{\textbf{X}}
\newcommand{\bW}{\textbf{W}}
\newcommand{\bY}{\textbf{Y}}
\newcommand{\bD}{\textbf{D}}
\newcommand{\bH}{\textbf{H}}
\newcommand{\ggmix}{\texttt{ggmix}}
\newcommand{\trans}{\top}
\newcommand{\bXtilde}{\widetilde{\bX}}
\newcommand{\bYtilde}{\widetilde{\bY}}
\newcommand{\bDtilde}{\widetilde{\bD}}
\newcommand{\Xtilde}{\widetilde{X}}
\newcommand{\Ytilde}{\widetilde{Y}}
\newcommand{\Dtilde}{\widetilde{D}}
\newcommand{\bu}{\textbf{u}}
\newcommand{\bU}{\textbf{U}}
\newcommand{\bV}{\textbf{V}}
\newcommand{\bb}{\textbf{\emph{b}}}
\newcommand{\bI}{\textbf{I}}
\newcommand{\be}{\boldsymbol{\varepsilon}}
\newcommand{\balpha}{\boldsymbol{\alpha}}
\newcommand{\bSigma}{\boldsymbol{\Sigma}}
\newcommand{\bLambda}{\boldsymbol{\Lambda}}
\newcommand{\bTheta}{\boldsymbol{\Theta}}
\newcommand{\btheta}{\boldsymbol{\theta}}
\newcommand{\btau}{\boldsymbol{\tau}}
\newcommand{\bgamma}{\boldsymbol{\gamma}}
\newcommand{\sail}{\texttt{sail}}
%\newcommand{\norm}[1]{\left\Vert #1 \right\Vert}
\newcommand{\xf}{\mathcal{X}}
\newcommand{\pfrac}[2]{\left( \frac{#1}{#2}\right)}
\newcommand{\e}{{\mathsf E}}
\newcommand{\bt}{\boldsymbol{\theta}}
\newcommand{\bmu}{\boldsymbol{\mu}}
%\newcommand{\bbeta}{\boldsymbol{\beta}}
\newcommand{\bbk}{\boldsymbol{\beta}^{(k)}}
\newcommand{\bbkt}{\widetilde{\boldsymbol{\beta}}^{(k)}}
\newcommand{\bPhi}{\boldsymbol{\Phi}}
\newcommand{\bPsi}{\boldsymbol{\Psi}}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator{\diag}{diag} % operator and subscript

\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%

% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the
% starred version does not.
\makeatletter
\let\oldabs\abs
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
%
\let\oldnorm\norm
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother


\IfFileExists{upquote.sty}{\usepackage{upquote}}{}



% class `abbrev': abbreviations:
\DeclareAcronym{hd}{
	short = HD ,
	long  = high-dimensional ,
	class = abbrev
}
\DeclareAcronym{glm}{
	short = GLMs ,
	long  = generalized linear models ,
	class = abbrev
}
\DeclareAcronym{gwas}{
	short = GWAS ,
	long  = Genome-wide association studies ,
	class = abbrev
}
\DeclareAcronym{mri}{
	short = MRI ,
	long  = magnetic resonance imaging ,
	class = abbrev
}
\DeclareAcronym{aal}{
	short = AAL ,
	long  = Automated Anatomical Labelling ,
	class = abbrev
}
\DeclareAcronym{cgd}{
	short = CGD ,
	long  = coordinate descent algorithm ,
	class = abbrev
}
\DeclareAcronym{kkt}{
	short = KKT ,
	long  = Karush-Kuhn-Tucker ,
	class = abbrev
}
\DeclareAcronym{mm}{
	short = MM ,
	long  = majorization-minimization ,
	class = abbrev
}
\DeclareAcronym{gmd}{
	short = GMD ,
	long  = groupwise majorization descent ,
	class = abbrev
}
\DeclareAcronym{qm}{
	short = QM ,
	long  = quadratic majorization ,
	class = abbrev
}
\DeclareAcronym{lmm}{
	short = LMMs ,
	long  = Linear mixed-effects models ,
	class = abbrev
}
\DeclareAcronym{adni}{
	short = ADNI ,
	long  = Alzheimer's Disease Neuroimaging Initiative ,
	class = abbrev
}
\DeclareAcronym{cv}{
	short = CV ,
	long  = cross-validation ,
	class = abbrev
}
\DeclareAcronym{mse}{
	short = MSE ,
	long  = mean squared error ,
	class = abbrev
}
\DeclareAcronym{tpr}{
	short = TPR ,
	long  = true positive rate ,
	class = abbrev
}
\DeclareAcronym{fpr}{
	short = FPR ,
	long  = false positive rate ,
	class = abbrev
}
\DeclareAcronym{sd}{
	short = SD ,
	long  = standard deviation ,
	class = abbrev
}
\DeclareAcronym{amyb}{
	short = A$\beta$ ,
	long  = amyloid beta ,
	class = abbrev
}
\DeclareAcronym{mci}{
	short = MCI ,
	long  = mild cognitive impairment ,
	class = abbrev
}
\DeclareAcronym{ad}{
	short = AD ,
	long  = Alzheimer's disease ,
	class = abbrev
}
\DeclareAcronym{snp}{
	short = SNP ,
	long  = single nucleotide polymorphism ,
	class = abbrev
}
\DeclareAcronym{pc}{
	short = PC ,
	long  = principal component ,
	class = abbrev
}
\DeclareAcronym{gic}{
	short = GIC ,
	long  = generalized information criterion ,
	class = abbrev
}
\DeclareAcronym{bic}{
	short = BIC ,
	long  = Bayesian information criterion ,
	class = abbrev
}
\DeclareAcronym{copd}{
	short = COPD ,
	long  = Chronic Obstructive Pulmonary Disease ,
	class = abbrev
}
\DeclareAcronym{tcga}{
	short = TCGA ,
	long  = The Cancer Genome Atlas ,
	class = abbrev
}
\DeclareAcronym{tom}{
	short = TOM ,
	long  = topological overlap matrix ,
	class = abbrev
}
\DeclareAcronym{mars}{
	short = MARS ,
	long  = multivariate adaptive regression splines ,
	class = abbrev
}
\DeclareAcronym{bmd}{
	short = BMD ,
	long  = bone mineral density ,
	class = abbrev
}
\DeclareAcronym{gdm}{
	short = GDM ,
	long  = gestational diabetes mellitus ,
	class = abbrev
}
\DeclareAcronym{rmse}{
	short = RMSE ,
	long  = root mean squared error ,
	class = abbrev
}
\DeclareAcronym{ipa}{
	short = IPA ,
	long  = Ingenuity Pathway Analysis ,
	class = abbrev
}
\DeclareAcronym{cran}{
	short = CRAN ,
	long  = comprehensive R archive network ,
	class = abbrev
}
